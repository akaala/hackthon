<!DOCTYPE html>
<html ng-app="Mobile" lang="en">
<head>
    <!--<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">-->
    <meta charset="utf-8">
    <title>我的酒店我做主</title>
    <!--link rel="stylesheet" href="css/app.css"-->
    <link rel="stylesheet" href="lib/bootstrap-3.3.4-dist/css/bootstrap.css">
    <link rel="stylesheet" href="lib/slider/css/slider.css">
    <link rel="stylesheet" href="common.css">

    <style type="text/css">
        body, html,#allMap {width: 100%;height: 100%; margin:0;}
        #golist {display: none;}
        @media (max-device-width: 780px){#golist{display: block !important;}}
    </style>

    <script src="lib/angular.js"></script>
    <script src="lib/jquery-1.11.0.js"></script>
    <script src="lib/slider/js/bootstrap-slider.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?type=quick&ak=Lkh4Go82L7yZ0G8Pj2wqYm6s&v=1.0"></script>

    <script src="js/data-load.js"></script>
    <script src="js/modules.js"></script>
    <script src="js/mobile.js"></script>
</head>
<body ng-controller="RootController">

<!-- New Order page -->
<div class="container-fluid middle-font" ng-controller="NewOrderController" ng-if="page==pages.NEW_ORDER">
    <div class="row line-separator page-title">
        我要出价
    </div>
    <div class="row line-separator">
       <div class="col-xs-5">
            <input type="text" class="form-control middle-font middle-line" id="start-time" placeholder="2015-3-21"
                      style="color:black; border:none;" ng-click="refreshBidRange()">
        </div>
        <div class="col-xs-2">
            <span class="glyphicon glyphicon-chevron-right middle-font middle-line">&nbsp;</span>
        </div>
        <div class="col-xs-5">
            <input type="text" class="form-control middle-font middle-line" id="end-time" placeholder="2015-3-25"
                   style="color:black; border:none;" ng-click="refreshBidRange()">
        </div>
    </div>
    <div class="row line-separator">
        <div class="col-xs-12">
            <select class="no-border" ng-model="location" ng-change="refreshBidRange()" ng-options="m.name for m in locations" style="width: 100%">
                <option value=""> -- 请选择 --</option>
            </select>
        </div>
    </div>
    <div class="row line-separator">
        <div class="col-xs-12">
            <span class="glyphicon yellow" ng-class="{true: ' glyphicon-star', false: ' glyphicon-star-empty'}[star.id>=1]" ng-click="star=stars[0]"></span>
            <span class="glyphicon yellow" ng-class="{true: ' glyphicon-star', false: ' glyphicon-star-empty'}[star.id>=2]" ng-click="star=stars[1]"></span>
            <span class="glyphicon yellow" ng-class="{true: ' glyphicon-star', false: ' glyphicon-star-empty'}[star.id>=3]" ng-click="star=stars[2]"></span>
            <span class="glyphicon yellow" ng-class="{true: ' glyphicon-star', false: ' glyphicon-star-empty'}[star.id>=4]" ng-click="star=stars[3]"></span>
            <span class="glyphicon yellow" ng-class="{true: ' glyphicon-star', false: ' glyphicon-star-empty'}[star.id>=5]" ng-click="star=stars[4]"></span>
        </div>
    </div>
    <div class="row line-separator">
        <div class="col-xs-12">
            <button class="btn middle-font no-border" ng-class="{true: 'btn-primary', false: 'btn-default'}[type==1]" ng-click="type=1;refreshBidRange();">经济型</button>
            <button class="btn middle-font no-border" ng-class="{true: 'btn-primary', false: 'btn-default'}[type==2]" ng-click="type=2;refreshBidRange();">商旅型</button>
            <button class="btn middle-font no-border" ng-class="{true: 'btn-primary', false: 'btn-default'}[type==3]" ng-click="type=3;refreshBidRange();">度假型</button>
        </div>
    </div>
    <div class="row line-separator">
        <div class="col-xs-12">
            竞标有效期：
        </div>
    </div>
    <div class="row line-separator">
        <div class="col-xs-12">
            <button class="btn middle-font no-border" ng-class="{true: 'btn-primary', false: 'btn-default'}[expire==1]" ng-click="expire=1;refreshBidRange();">1分钟</button>
            <button class="btn middle-font no-border" ng-class="{true: 'btn-primary', false: 'btn-default'}[expire==60]" ng-click="expire=60;refreshBidRange();">1小时</button>
            <button class="btn middle-font no-border" ng-class="{true: 'btn-primary', false: 'btn-default'}[expire==360]" ng-click="expire=360;refreshBidRange();">6小时</button>
            <button class="btn middle-font no-border" ng-class="{true: 'btn-primary', false: 'btn-default'}[expire==720]" ng-click="expire=720;refreshBidRange();">12小时</button>
            <button class="btn middle-font no-border" ng-class="{true: 'btn-primary', false: 'btn-default'}[expire==1440]" ng-click="expire=1440;refreshBidRange();">1天</button>
        </div>
    </div>
    <div class="row line-separator">
        <div class="col-xs-3">
            我愿意出价：
        </div>
        <div  class="col-xs-4">
            <div id="price-slider" style="width: 100%">
                &nbsp;
            </div>
        </div>
        <div class="col-xs-4" >
            <span style="color: orangered; font-weight: bold">{{bidPrice}}</span> 元
            <span ng-if="probabilities[bidPrice]">成功率：{{probabilities[bidPrice]}} %</span>
        </div>
    </div>
    <div class="row line-separator" style="text-align: center">
        <button class="btn btn-danger middle-font no-border" ng-click="sendOrder()" style="width:30%">出价</button>
    </div>
</div>

<!-- Order list page-->
<div class="container-fluid middle-font" ng-controller="OrderListController" ng-if="page==pages.ORDER_LIST">
    <div class="row line-separator page-title">
        竞标历史
    </div>
    <div class="row line-separator" ng-repeat="order in orderHistory">
        <div class="col-xs-3">
            {{order.date | date:"yyyy-MM-dd"}}
        </div>
        <div class="col-xs-2">
            <button class='btn middle-font' ng-class="{true: 'btn-danger', false: 'btn-success'}[order.status=='进行中']" ng-click="openOrder(order)">{{order.status}}</button>
        </div>
        <div class="col-xs-3">
            {{order.finalPrice}} 元
        </div>
        <div class="col-xs-5">
            {{order.hotelName}}
        </div>
    </div>
</div>

<!-- Order list page-->
<div id="allMap">
</div>
<div class="container-fluid middle-font" ng-controller="OrderDashboardController" ng-show="(page==pages.ORDER_DASHBOARD) && currentOrderInDashboard">
    aaaaa

</div>

</body>
</html>